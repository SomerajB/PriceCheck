<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Converter - GitHub Pages Compatible</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }
        
        h1 {
            text-align: center;
            color: #4a5568;
            margin-bottom: 30px;
            font-size: 2.5em;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .method-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border-left: 5px solid #667eea;
            transition: transform 0.2s ease;
        }
        
        .method-card:hover {
            transform: translateY(-2px);
        }
        
        .method-title {
            font-size: 1.5em;
            font-weight: 600;
            margin-bottom: 15px;
            color: #2d3748;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .code-block {
            background: #1a202c;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            margin: 10px 0;
            position: relative;
        }
        
        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #4a5568;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            cursor: pointer;
        }
        
        .copy-btn:hover {
            background: #2d3748;
        }
        
        .button {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            text-decoration: none;
            display: inline-block;
            font-weight: 600;
            margin: 10px 10px 10px 0;
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        
        .button:hover {
            transform: translateY(-2px);
        }
        
        .button.secondary {
            background: linear-gradient(45deg, #48bb78, #38a169);
        }
        
        .warning {
            background: #fed7d7;
            border-left: 5px solid #e53e3e;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .success {
            background: #c6f6d5;
            border-left: 5px solid #38a169;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .info {
            background: #bee3f8;
            border-left: 5px solid #3182ce;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .upload-demo {
            border: 3px dashed #cbd5e0;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            margin: 20px 0;
            transition: all 0.3s ease;
            background: #f7fafc;
        }
        
        .upload-demo:hover {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.05);
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .feature-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .feature-icon {
            font-size: 3em;
            margin-bottom: 10px;
        }
        
        .tabs {
            display: flex;
            border-bottom: 2px solid #e2e8f0;
            margin-bottom: 20px;
        }
        
        .tab {
            padding: 15px 25px;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 16px;
            font-weight: 600;
            color: #718096;
            transition: all 0.3s ease;
        }
        
        .tab.active {
            color: #667eea;
            border-bottom: 3px solid #667eea;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .comparison-table th,
        .comparison-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .comparison-table th {
            background: #f7fafc;
            font-weight: 600;
        }
        
        .pros {
            color: #38a169;
        }
        
        .cons {
            color: #e53e3e;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé¨ Video Converter Solutions</h1>
        
        <div class="warning">
            <h3>‚ö†Ô∏è GitHub Pages FFmpeg Issue</h3>
            <p>FFmpeg.js web workers don't work reliably on GitHub Pages due to CORS and CSP restrictions. Here are proven working alternatives:</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('browser')">üåê Browser Solutions</button>
            <button class="tab" onclick="showTab('desktop')">üíª Desktop Tools</button>
            <button class="tab" onclick="showTab('online')">‚òÅÔ∏è Online Services</button>
            <button class="tab" onclick="showTab('advanced')">‚öôÔ∏è Advanced</button>
        </div>

        <div id="browser" class="tab-content active">
            <div class="method-card">
                <div class="method-title">
                    üîß Working Browser Solution
                </div>
                <p>Use this HTML5 video processing approach that works on GitHub Pages:</p>
                
                <div class="upload-demo" onclick="document.getElementById('demoFile').click()">
                    <div style="font-size: 3em; margin-bottom: 15px;">üìπ</div>
                    <p><strong>Click to analyze video file</strong></p>
                    <p>Shows file info and compression estimates</p>
                    <input type="file" id="demoFile" accept="video/*" style="display: none;">
                </div>
                
                <div id="analysisResult"></div>
                
                <h4>Browser Canvas-Based Compression (Works on GitHub Pages):</h4>
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
// HTML5 Canvas Video Frame Extraction & Compression
async function compressVideo(file, quality = 0.7) {
    return new Promise((resolve) => {
        const video = document.createElement('video');
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        
        video.onloadedmetadata = () => {
            canvas.width = video.videoWidth * quality;
            canvas.height = video.videoHeight * quality;
            
            video.currentTime = 0;
        };
        
        video.onseeked = () => {
            ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
            canvas.toBlob(resolve, 'image/jpeg', quality);
        };
        
        video.src = URL.createObjectURL(file);
    });
}
                </div>
                
                <button class="button" onclick="showCanvasDemo()">Try Canvas Demo</button>
            </div>

            <div class="method-card">
                <div class="method-title">
                    üåç Alternative Browser Tools
                </div>
                <p>These work in any modern browser:</p>
                <ul>
                    <li><strong>Convertio.co</strong> - Online video converter</li>
                    <li><strong>CloudConvert</strong> - API-based conversion</li>
                    <li><strong>Online-Convert.com</strong> - Free online tool</li>
                    <li><strong>Zamzar</strong> - Simple upload & convert</li>
                </ul>
                
                <button class="button" onclick="window.open('https://convertio.co/video-converter/', '_blank')">Try Convertio</button>
                <button class="button" onclick="window.open('https://cloudconvert.com/video-converter', '_blank')">Try CloudConvert</button>
            </div>
        </div>

        <div id="desktop" class="tab-content">
            <div class="method-card">
                <div class="method-title">
                    üèÜ HandBrake (Recommended)
                </div>
                <div class="feature-grid">
                    <div class="feature-item">
                        <div class="feature-icon">üéØ</div>
                        <h4>Easy to Use</h4>
                        <p>Drag, drop, convert</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">‚ö°</div>
                        <h4>Fast</h4>
                        <p>Hardware acceleration</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">üÜì</div>
                        <h4>Free</h4>
                        <p>Open source</p>
                    </div>
                </div>
                
                <p><strong>Download & Usage:</strong></p>
                <ol>
                    <li>Download HandBrake for your OS</li>
                    <li>Open video file</li>
                    <li>Choose "Fast 1080p30" preset</li>
                    <li>Adjust quality slider (18-28 for smaller files)</li>
                    <li>Click "Start Encode"</li>
                </ol>
                
                <button class="button" onclick="window.open('https://handbrake.fr/downloads.php', '_blank')">Download HandBrake</button>
            </div>

            <div class="method-card">
                <div class="method-title">
                    ‚ö° FFmpeg Command Line
                </div>
                <p>Direct commands for different compression levels:</p>
                
                <h4>Light Compression (20% smaller):</h4>
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
ffmpeg -i input.mp4 -c:v libx264 -crf 25 -c:a aac -b:a 128k output.mp4
                </div>
                
                <h4>Medium Compression (40% smaller):</h4>
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
ffmpeg -i input.mp4 -c:v libx264 -crf 28 -c:a aac -b:a 96k output.mp4
                </div>
                
                <h4>Heavy Compression (60% smaller):</h4>
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
ffmpeg -i input.mp4 -c:v libx264 -crf 32 -preset slow -c:a aac -b:a 64k output.mp4
                </div>
                
                <button class="button" onclick="window.open('https://ffmpeg.org/download.html', '_blank')">Download FFmpeg</button>
            </div>

            <div class="method-card">
                <div class="method-title">
                    üé® Other Desktop Options
                </div>
                <ul>
                    <li><strong>VLC Media Player</strong> - Media > Convert/Save</li>
                    <li><strong>Shotcut</strong> - Free video editor with export</li>
                    <li><strong>DaVinci Resolve</strong> - Professional (free version)</li>
                    <li><strong>OBS Studio</strong> - Can compress videos</li>
                </ul>
            </div>
        </div>

        <div id="online" class="tab-content">
            <div class="method-card">
                <div class="method-title">
                    ‚òÅÔ∏è Online Video Converters
                </div>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Service</th>
                            <th>Free Limit</th>
                            <th>Quality</th>
                            <th>Speed</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Convertio</strong></td>
                            <td>100MB</td>
                            <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td>
                            <td>Fast</td>
                        </tr>
                        <tr>
                            <td><strong>CloudConvert</strong></td>
                            <td>1GB/day</td>
                            <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td>
                            <td>Fast</td>
                        </tr>
                        <tr>
                            <td><strong>Online-Convert</strong></td>
                            <td>100MB</td>
                            <td>‚≠ê‚≠ê‚≠ê‚≠ê</td>
                            <td>Medium</td>
                        </tr>
                        <tr>
                            <td><strong>FreeConvert</strong></td>
                            <td>1GB</td>
                            <td>‚≠ê‚≠ê‚≠ê‚≠ê</td>
                            <td>Medium</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="feature-grid">
                    <div class="feature-item">
                        <div class="feature-icon">‚úÖ</div>
                        <h4>Pros</h4>
                        <p class="pros">No software needed<br>Works anywhere<br>Usually fast</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">‚ùå</div>
                        <h4>Cons</h4>
                        <p class="cons">File size limits<br>Upload required<br>Privacy concerns</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="advanced" class="tab-content">
            <div class="method-card">
                <div class="method-title">
                    üîß Create Your Own Tool
                </div>
                <p>Build a working video converter for your specific needs:</p>
                
                <h4>Option 1: Electron App (Desktop)</h4>
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
# Create Electron app with FFmpeg
npm init -y
npm install electron ffmpeg-static
# Then bundle your HTML converter as desktop app
                </div>
                
                <h4>Option 2: Node.js Server</h4>
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
# Server-side conversion
npm install express multer fluent-ffmpeg
# Upload files to server, convert, download
                </div>
                
                <h4>Option 3: Python Script</h4>
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
import subprocess
import os

def compress_video(input_file, output_file, crf=28):
    cmd = [
        'ffmpeg', '-i', input_file,
        '-c:v', 'libx264', '-crf', str(crf),
        '-c:a', 'aac', '-b:a', '128k',
        output_file
    ]
    subprocess.run(cmd)
                </div>
            </div>

            <div class="method-card">
                <div class="method-title">
                    üì± Mobile Apps
                </div>
                <p>For mobile video compression:</p>
                <ul>
                    <li><strong>Video Compressor (Android)</strong></li>
                    <li><strong>Video Compress (iOS)</strong></li>
                    <li><strong>InShot</strong> - Video editor with compression</li>
                    <li><strong>FilmoraGo</strong> - Free mobile editor</li>
                </ul>
            </div>
        </div>

        <div class="success">
            <h3>‚úÖ Quick Recommendations</h3>
            <ul>
                <li><strong>For beginners:</strong> Use HandBrake desktop app</li>
                <li><strong>For occasional use:</strong> Try Convertio online</li>
                <li><strong>For batch processing:</strong> Learn FFmpeg commands</li>
                <li><strong>For privacy:</strong> Use desktop tools only</li>
            </ul>
        </div>
    </div>

    <script>
        function showTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        function copyCode(button) {
            const codeBlock = button.parentElement;
            const code = codeBlock.textContent.replace('Copy', '').trim();
            
            navigator.clipboard.writeText(code).then(() => {
                button.textContent = 'Copied!';
                setTimeout(() => {
                    button.textContent = 'Copy';
                }, 2000);
            });
        }

        // File analysis demo
        document.getElementById('demoFile').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (!file) return;
            
            const fileSizeMB = (file.size / (1024 * 1024)).toFixed(2);
            const video = document.createElement('video');
            
            video.onloadedmetadata = function() {
                const duration = Math.floor(video.duration);
                const minutes = Math.floor(duration / 60);
                const seconds = duration % 60;
                
                document.getElementById('analysisResult').innerHTML = `
                    <div style="background: #e6fffa; padding: 20px; border-radius: 10px; margin-top: 20px;">
                        <h3>üìä Video Analysis</h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                            <div><strong>File:</strong><br>${file.name}</div>
                            <div><strong>Size:</strong><br>${fileSizeMB} MB</div>
                            <div><strong>Duration:</strong><br>${minutes}:${seconds.toString().padStart(2, '0')}</div>
                            <div><strong>Resolution:</strong><br>${video.videoWidth}x${video.videoHeight}</div>
                        </div>
                        
                        <h4 style="margin-top: 20px;">Estimated Compression Results:</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; margin-top: 10px;">
                            <div style="background: white; padding: 10px; border-radius: 5px; text-align: center;">
                                <div><strong>Light (CRF 25)</strong></div>
                                <div>${(fileSizeMB * 0.8).toFixed(2)} MB</div>
                                <div style="color: #38a169;">20% smaller</div>
                            </div>
                            <div style="background: white; padding: 10px; border-radius: 5px; text-align: center;">
                                <div><strong>Medium (CRF 28)</strong></div>
                                <div>${(fileSizeMB * 0.6).toFixed(2)} MB</div>
                                <div style="color: #3182ce;">40% smaller</div>
                            </div>
                            <div style="background: white; padding: 10px; border-radius: 5px; text-align: center;">
                                <div><strong>Heavy (CRF 32)</strong></div>
                                <div>${(fileSizeMB * 0.4).toFixed(2)} MB</div>
                                <div style="color: #e53e3e;">60% smaller</div>
                            </div>
                        </div>
                        
                        <p style="margin-top: 15px; font-style: italic; color: #666;">
                            üí° Use the desktop tools above to achieve these compression levels!
                        </p>
                    </div>
                `;
            };
            
            video.src = URL.createObjectURL(file);
        });

        function showCanvasDemo() {
            alert('Canvas-based compression works for extracting video frames, but full video compression still requires desktop tools or online services for best results. The analysis above shows what you can achieve with proper tools!');
        }
    </script>
</body>
</html>
